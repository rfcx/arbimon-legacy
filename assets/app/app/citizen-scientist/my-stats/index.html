<div class="row">
    <h4>My Stats</h4>
</div>
<div class="row">
    <table class="table" style="max-width:30em">
        <tr>
            <th>Overall</th>
            <th>Me</th>
            <th>Group</th>
        </tr>
        <tr>
            <th>Consensus</th>
            <td>{{ controller.overall.consensus }} ({{ controller.overall.consensus * 100 / (controller.overall.reached_th || 1) | number:0 }}%)</td>
            <td>{{ controller.overall.group_consensus }} ({{ controller.overall.group_consensus * 100 / (controller.overall.group_reached_th || 1) | number:0 }}%)</td>
        </tr>
        <tr>
            <th>Non Consensus</th>
            <td>{{ controller.overall.non_consensus }} ({{ controller.overall.non_consensus * 100 / (controller.overall.reached_th || 1) | number:0 }}%)</td>
            <td>{{ controller.overall.group_non_consensus }} ({{ controller.overall.group_non_consensus * 100 / (controller.overall.group_reached_th || 1) | number:0 }}%)</td>
        </tr>
        <tr>
            <th>Pending Consensus</th>
            <td>{{ controller.overall.pending }}</td>
            <td>{{ controller.overall.group_pending }}</td>
        </tr>
        <tr>
            <th>Total</th>
            <td>{{ controller.overall.validated }}</td>
            <td>{{ controller.overall.group_validated }}</td>
        </tr>
    </table>
</div>
<div class="row">
    <h4>Per Species</h4>
</div>
<div class="row">
    <div class="col-sm-12">
        <a2-table class="table-hide-btns"
            rows="controller.stats" no-checkbox="true"
            default-sort="species"
            no-select
        >
            <field title="Species" filter key="species" >
                {{ row.species_name  }}
            </field>
            <field title="Songtype" filter key="songtype" >
                {{ row.songtype  }}
            </field>
            <field title="Validated"  filter size="5" key="validated" >
                <div class="row-flex flex-space-evenly">
                    <div>
                        {{ row.validated }}
                    </div>
                    <div>
                        group:
                        {{ row.group_validated }}
                    </div>
                </div>
            </field>
            <field title="Consensus"  filter size="5" key="consensus" >
                <div class="row-flex flex-space-evenly">
                    <div>
                        {{ row.consensus }} ({{ row.consensus * 100 / (row.reached_th || 1) | number:0 }}%)
                    </div>
                    <div>
                        group:
                        {{ row.group_consensus }} ({{ row.group_consensus * 100 / (row.group_reached_th || 1) | number:0 }}%)
                    </div>
                </div>
            </field>
            <field title="Non Consensus"  filter size="5" key="non_consensus" >
                <div class="row-flex flex-space-evenly">
                    <div>
                        {{ row.non_consensus }} ({{ row.non_consensus * 100 / (row.reached_th || 1) | number:0 }}%)
                    </div>
                    <div>
                        group:
                        {{ row.group_non_consensus }} ({{ row.group_non_consensus * 100 / (row.group_reached_th || 1) | number:0 }}%)
                    </div>
                </div>
            </field>
            <field title="Pending Consensus"  filter size="5" key="pending" >
                <div class="row-flex flex-space-evenly">
                    <div>
                        {{ row.pending }}
                    </div>
                    <div>
                        group:
                        {{ row.group_pending }}
                    </div>
                </div>
            </field>
            <field title="Last_update"  filter key="last_update" >
                {{ row.last_update | date}}
            </field>
        </a2-table>
        <loader ng-hide="!loading"></loader>
    </div>
</div>
